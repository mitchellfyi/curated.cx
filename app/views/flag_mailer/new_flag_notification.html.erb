<h1><%= t("flag_mailer.new_flag_notification.header", site_name: @site.name) %></h1>

<p><%= t("flag_mailer.new_flag_notification.intro") %></p>

<div style="margin: 20px 0; padding: 15px; background-color: #f5f5f5; border-left: 4px solid #e74c3c;">
  <p><strong><%= t("flag_mailer.new_flag_notification.reason_label") %>:</strong> <%= t("flags.reasons.#{@flag.reason}") %></p>
  <% if @flag.details.present? %>
    <p><strong><%= t("flag_mailer.new_flag_notification.details_label") %>:</strong> <%= @flag.details %></p>
  <% end %>
  <p><strong><%= t("flag_mailer.new_flag_notification.flagged_by_label") %>:</strong> <%= @flag.user.email %></p>
  <p><strong><%= t("flag_mailer.new_flag_notification.flagged_at_label") %>:</strong> <%= l(@flag.created_at, format: :long) %></p>
</div>

<h2><%= t("flag_mailer.new_flag_notification.flagged_content_header") %></h2>

<% if @flaggable.is_a?(Entry) %>
  <p><strong><%= t("flag_mailer.new_flag_notification.content_type_label") %>:</strong> <%= t("flag_mailer.new_flag_notification.content_type.entry") %></p>
  <p><strong><%= t("flag_mailer.new_flag_notification.title_label") %>:</strong> <%= @flaggable.title %></p>
  <p><strong><%= t("flag_mailer.new_flag_notification.url_label") %>:</strong> <%= link_to @flaggable.url_canonical, @flaggable.url_canonical %></p>
<% elsif @flaggable.is_a?(Comment) %>
  <p><strong><%= t("flag_mailer.new_flag_notification.content_type_label") %>:</strong> <%= t("flag_mailer.new_flag_notification.content_type.comment") %></p>
  <p><strong><%= t("flag_mailer.new_flag_notification.comment_body_label") %>:</strong></p>
  <blockquote style="margin: 10px 0; padding: 10px; background-color: #f9f9f9; border-left: 3px solid #ccc;">
    <%= simple_format(@flaggable.body) %>
  </blockquote>
  <p><strong><%= t("flag_mailer.new_flag_notification.comment_author_label") %>:</strong> <%= @flaggable.user.email %></p>
<% end %>

<p style="margin-top: 20px;">
  <%= link_to t("flag_mailer.new_flag_notification.review_button"), admin_flags_url, style: "display: inline-block; padding: 10px 20px; background-color: #3498db; color: white; text-decoration: none; border-radius: 4px;" %>
</p>

<p style="color: #666; font-size: 12px; margin-top: 30px;">
  <%= t("flag_mailer.new_flag_notification.footer") %>
</p>
