<% content_for :title, t('tenants.index.title') %>

<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-900">
      <%= t('tenants.index.title') %>
    </h1>
  </div>

  <div class="bg-white shadow-sm rounded-lg overflow-hidden">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              <%= t('tenants.attributes.name') %>
            </th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              <%= t('tenants.attributes.hostname') %>
            </th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              <%= t('tenants.attributes.status') %>
            </th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              <%= t('tenants.attributes.created_at') %>
            </th>
            <th scope="col" class="relative px-6 py-3">
              <span class="sr-only"><%= t('actions.manage') %></span>
            </th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <% @tenants.each do |tenant| %>
            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="text-sm font-medium text-gray-900">
                  <%= link_to tenant.title, tenant_path(tenant),
                      class: "text-blue-600 hover:text-blue-800" %>
                </div>
                <% if tenant.description.present? %>
                  <div class="text-sm text-gray-500">
                    <%= truncate(tenant.description, length: 60) %>
                  </div>
                <% end %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <%= tenant.hostname %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <%= tenant.enabled? ? badge_success(t('tenants.status.enabled')) : badge_danger(t('tenants.status.disabled')) %>
                <%= badge_warning(t('tenants.status.private')) if tenant.private_access? %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                <%= l(tenant.created_at, format: :short) %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                <div class="flex justify-end space-x-2">
                  <%= link_to t('actions.view'), tenant_path(tenant),
                      class: "text-blue-600 hover:text-blue-800" %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <% if @tenants.empty? %>
      <div class="text-center py-12">
        <div class="text-gray-500">
          <p class="text-lg"><%= t('tenants.index.empty.title') %></p>
          <p class="mt-2"><%= t('tenants.index.empty.description') %></p>
        </div>
      </div>
    <% end %>
  </div>
</div>
