<%# Featured listings section partial %>
<%# locals: (section:, index:, featured_listings:) %>
<section class="py-16 <%= index.even? ? 'bg-white' : 'bg-gray-50' %>">
  <div class="max-w-6xl mx-auto px-4">
    <% if section["title"].present? %>
      <h2 class="text-3xl font-bold text-gray-900 text-center mb-4">
        <%= section["title"] %>
      </h2>
    <% end %>

    <% if section["subtitle"].present? %>
      <p class="text-xl text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        <%= section["subtitle"] %>
      </p>
    <% end %>

    <% if featured_listings.present? && section["listing_ids"].present? %>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <% section["listing_ids"].each do |listing_id| %>
          <% listing = featured_listings[listing_id.to_i] %>
          <% next unless listing %>
          <article class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
            <% if listing.image_url.present? %>
              <img src="<%= listing.image_url %>" alt="" class="w-full h-48 object-cover" loading="lazy">
            <% end %>
            <div class="p-6">
              <%= badge(listing.category_name, :blue) if listing.category %>
              <h3 class="text-lg font-semibold text-gray-900 mb-2">
                <%= link_to listing.title, listing_path(listing), class: "hover:text-blue-600" %>
              </h3>
              <% if listing.description.present? %>
                <p class="text-gray-600 text-sm mb-4 line-clamp-2"><%= listing.description %></p>
              <% end %>
              <%= link_to t("landing_pages.sections.listings.learn_more"), listing_path(listing), class: "text-blue-600 hover:text-blue-700 text-sm font-medium" %>
            </div>
          </article>
        <% end %>
      </div>
    <% else %>
      <p class="text-center text-gray-500"><%= t("landing_pages.sections.listings.no_listings") %></p>
    <% end %>
  </div>
</section>
