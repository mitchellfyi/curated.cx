# Curated.cx Fix Progress

Started: 2026-02-05 11:00 UTC
Target: Complete by 17:00 UTC (6 hours)
Cron: "Curated Fix Session" runs every 30 min

## Issues to Fix

### 1. Dashboard link in user nav - broken
- [x] Investigated routes - `resource :dashboard` exists and is correct
- [x] Investigated view - `dashboard_path` used correctly in navigation
- [ ] May be tenant context issue - need to verify
- [ ] Test locally or check production logs

### 2. /admin/observability sub pages broken
- [x] Routes verified - `resource :observability` with member routes for imports, editorialisations, serp_api, ai_usage
- [x] Controller verified - all actions exist with proper stats building
- [x] Views verified - all view files exist (show, imports, editorialisations, serp_api, ai_usage)
- [ ] Need to identify actual error - may be stats nil or template rendering issue

### 3. API usage not visible on observability page
- [x] SerpAPI stats are assigned in controller: `@serp_api_stats = SerpApiGlobalRateLimiter.usage_stats`
- [x] AI usage stats assigned: `@ai_usage_stats = AiUsageTracker.usage_stats`
- [x] Dedicated pages exist: /admin/observability/serp_api, /admin/observability/ai_usage
- [ ] Verify if these are linked properly in main observability page

### 4. /admin/jobs broken + jobs failing
- [x] MissionControl::Jobs gem is installed (v1.1.0)
- [x] Route exists: `mount MissionControl::Jobs::Engine, at: "/admin/jobs"`
- [x] Added mission_control.rb initializer
- [ ] SolidQueue is the queue adapter in production
- [ ] Queue database configured but no queue_migrate folder exists (uses queue_schema.rb)
- [ ] Need to check if SolidQueue tables exist in production

## Files Changed
- config/initializers/mission_control.rb (new) - MissionControl configuration

## Progress Log

### 11:00 UTC - Starting investigation
- Reviewed routes.rb - all routes correctly defined
- Reviewed observability_controller.rb - all actions present
- Reviewed all observability views - exist and look correct
- Verified navigation uses correct path helpers
- Added mission_control.rb initializer

### Next Steps
1. Run linting/rubocop on changes
2. Commit mission_control initializer
3. Try to get production error logs (Sentry?)
4. Check if issue is tenant-scoping or nil stats
