#!/usr/bin/env ruby
# Accessibility testing and validation script

puts "â™¿ Running accessibility checks..."
puts "=" * 50

def run_command(description, command)
  puts "\n#{description}"
  puts "-" * 30
  result = system(command)
  unless result
    puts "âš ï¸  Command failed or found issues"
  end
  result
end

# Run accessibility-specific RSpec tests
run_command("ğŸ§ª Running accessibility system tests:", "bundle exec rspec spec/system/accessibility_spec.rb --format documentation")

# Run full test suite with accessibility focus
run_command("ğŸ” Running i18n tests:", "bundle exec rspec spec/i18n_spec.rb --format documentation")

puts "\nğŸ’¡ Accessibility best practices:"
puts "  â€¢ Use semantic HTML elements (header, nav, main, aside, footer)"
puts "  â€¢ Provide alt text for images"
puts "  â€¢ Ensure proper heading hierarchy (h1, h2, h3, etc.)"
puts "  â€¢ Use sufficient color contrast (4.5:1 for normal text, 3:1 for large text)"
puts "  â€¢ Make interactive elements keyboard accessible"
puts "  â€¢ Provide skip links for keyboard navigation"
puts "  â€¢ Use ARIA labels and roles when needed"
puts "  â€¢ Test with screen readers"

puts "\nğŸ”§ Manual testing recommendations:"
puts "  â€¢ Navigate using only keyboard (Tab, Shift+Tab, Enter, Space)"
puts "  â€¢ Test with screen reader (VoiceOver on macOS, NVDA on Windows)"
puts "  â€¢ Verify color contrast using browser dev tools"
puts "  â€¢ Check responsive design at different zoom levels (up to 200%)"
puts "  â€¢ Validate HTML using W3C validator"

puts "\nğŸŒ Browser accessibility testing:"
puts "  â€¢ Chrome DevTools Lighthouse accessibility audit"
puts "  â€¢ Firefox Accessibility Inspector"
puts "  â€¢ axe DevTools browser extension"

puts "\nâœ… Accessibility check complete!"